(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{OkeR:function(e,t,n){"use strict";n.r(t);var a=n("CcnG"),l=n("BHnd"),r=n("tv3w"),i=n("gIcY"),o=n("P6uZ"),u=(n("6kGA"),n("66nF")),c=n("5RHE"),s=n("lR8Q"),d=n.n(s),p=n("LvDl"),m=n("wd/R"),f=n("xaHf"),h=function(){return(h=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},b=[{fname:"Mark",lname:"jhony",dept_name:"Quality",id:20,parcels:[{department_id:"20",dept_name:"Quality",description:"Quality as top priority in entire value chain ",end_date:"2021-03-31",parcelId:123,parcelName:"asd",parcelItems:[{definition:"Prepare ISO manual including new product launch Quality systems and procedures",dept_id:20,dept_name:"Quality",itemId:2,itemName:"perfume",actionplan:[{definition:"actionplan"},{definition:"dures"}]},{definition:"Prepare ISO manual",dept_id:20,dept_name:"Quality",itemId:4,itemName:"soap",actionplan:[{definition:"Practionplane"},{definition:"dures"}]},{definition:"Quality systems and procedures",dept_id:20,dept_name:"Quality",itemId:8,itemName:"tooth paste",actionplan:[{definition:"Pre"},{definition:"dures"}]},{definition:" systems and procedures",dept_id:20,dept_name:"Quality",itemId:9,itemName:"gum",actionplan:[{definition:"actionplan6"},{definition:"dures"}]}]},{department_id:"20",dept_name:"Quality",description:"Deliver new launches",end_date:"2021-03-31",parcelId:144,parcelName:"parcel2",parcelItems:[{definition:"test initiative",dept_id:20,dept_name:"Quality",itemId:2,itemName:"headphones",actionplan:[{definition:"Pre-actionplan"},{definition:"dures"}]},{definition:"Prepare ISO",dept_id:20,dept_name:"Quality",itemId:4,itemName:"mouse",actionplan:[{definition:"actionplantest"},{definition:"dures"}]}]}]}],_=function(){function e(e,t,n,a,r,o,u){this._initiativeService=e,this.dialog=t,this.userService=n,this.alertService=a,this.bottomSheet=r,this.loaderService=o,this.dataYearService=u,this.testindex=0,this.counter3=1,this.displayedColumns=["fname","lname","parcels"],this.dataSource=b,this.displayedColumnsLesent=["lesent_name","lesent_description"],this.dataSourceLesent=new l.o(g),this.monthNumber=[{Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12}],this.MONTHS=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],this.filter={department_id:"",status_name:"",end_date:""},this.dept_nameFilter=new i.g,this.end_dateFilter=new i.g,this.status_nameFilter=new i.g}return e.prototype.ngOnInit=function(){var e=this;this.currentUser=JSON.parse(localStorage.getItem("currentUser")),this.unit_id=localStorage.getItem("currentUnitId"),this.deptAccorPermission=this.currentUser.dept_id,this.allDetailsCompany=JSON.parse(localStorage.getItem("allDetailsCompany")),this.companyCreateData=this.allDetailsCompany?this.allDetailsCompany.general_data[0].company_created_date:null,this.companyFinancialYear=this.allDetailsCompany.general_data[0].financial_year,this.getDepartment(),this.strObjStatusGet(),this.currentYearSubscription=this.dataYearService.currentMessageYear.subscribe(function(t){e.userSelectedYear=t,e.viewStrategicObjectives()});var t=new Date;this.currentMonth=m(new Date).format("MM"),this.currentYear=m(t,"YYYY-MM-DD").format("YYYY"),this.userModulePermission=JSON.parse(localStorage.getItem("userModulePermission"));for(var n=0;n<this.userModulePermission.length;n++)"Initiative_datas"==this.userModulePermission[n].module_name&&(this.initiDataPermission=this.userModulePermission[n]);this.selectedYearVal=this.currentYear},e.prototype.ngOnDestroy=function(){this.currentYearSubscription.unsubscribe()},e.prototype.getDepartment=function(){var e=this;this.userService.getDepartmentUnit(this.currentUser.login_access_token,this.unit_id,this.currentUser.role_id,this.currentUser.dept_id).pipe(Object(o.a)()).subscribe(function(t){e.dataDepartment=t.data},function(t){e.alertService.error(t)})},e.prototype.strObjStatusGet=function(){var e=this;this.userService.getStrObjStatus(this.currentUser.login_access_token).pipe(Object(o.a)()).subscribe(function(t){e.userrole=t,e.straObjStatus=e.userrole.data},function(t){e.alertService.error(t)})},e.prototype.viewStrategicObjectives=function(){var e=this;this.userService.strategicObjectivesData(this.currentUser.login_access_token,this.unit_id,this.currentUser.role_id,this.currentUser.dept_id,this.userSelectedYear,this.companyFinancialYear).pipe(Object(o.a)()).subscribe(function(t){e.strategicAllData=t.data,e.processData(e.strategicAllData),console.log("hjjjj",e.processData)},function(t){e.alertService.error(t)})},e.prototype.filterRenderedData=function(e,t){var n,a=this;this.filter[e]="end_date"===e?m(t).format("YYYY-MM-DD").toLowerCase():t,n=this.strategicAllData.map(function(e){var t=e.strategic_objectives.filter(function(e){return(""===a.filter.department_id||e.department_id===Number(a.filter.department_id))&&(""===a.filter.status_name||e.status_name===a.filter.status_name)&&(""===a.filter.end_date||e.end_date<=a.filter.end_date)});return h({},e,{strategic_objectives:t.slice()})}),this.processData(n)},e.prototype.resetOptions=function(){this.dept_nameFilter.reset(""),this.status_nameFilter.reset(""),this.end_dateFilter.reset(""),this.viewStrategicObjectives()},e.prototype.actionDataByYear=function(e,t,n,a,l){var r=this;this.selectYear=l,this.companyFinancialYear=this.companyFinancialYear,this.userService.getStrObjActionByYear(this.currentUser.login_access_token,a,this.selectYear,this.companyFinancialYear).pipe(Object(o.a)()).subscribe(function(l){r.strObjActionData=l.data,r.actionPlanSaprate(r.strObjActionData,r.selectYear),r.actionDataFiilter(e,t,n,a,r.selectYear)},function(e){r.alertService.error(e)})},e.prototype.actionDataFiilter=function(e,t,n,a,l){var r=this;e&&this.renderStrategicData.map(function(l){l.id===e&&l.strategic_objectives.map(function(e){e.strategic_objectives_id===t&&e.initiatives.map(function(e){e.initiatives_id===n&&e.action_plans.map(function(e){e.action_plans_id===a&&(e.datasource=r.strObjActionData[0].datasource)})})})})},e.prototype.processData=function(e){var t=this;this.renderStrategicData=e;var n=1;this.renderStrategicData.map(function(e){var a=e.strategic_objectives.slice();p.isArray(a)&&!p.isEmpty(a)&&a.map(function(e){e.srno=n,n+=1;var a=e.initiatives.slice();p.isArray(a)&&!p.isEmpty(a)&&a.map(function(e){var n=e.action_plans.slice();p.isArray(n)&&!p.isEmpty(n)&&(t.selectYear=Number(t.currentYear),t.actionPlanSaprate(n,t.selectYear))})})})},e.prototype.actionPlanSaprate=function(e,t){var n=this;this.selectYear=t;var a=(new Date).getDate(),r=m().format("MM"),i=Number(r),o=i-1,u=m().format("DD");e.map(function(e){var c=[],s=Number(m(e.start_date,"YYYY-MM-DD").format("YYYY")),d=Number(m(e.start_date,"YYY-MM-DD").format("MM"));console.log("start---month",d),console.log("start---year",s);var f=m(e.end_date,"YYYY-MM-DD").format("MMM").toLowerCase(),b=m().month(f).format("MM");console.log("end---month",b);var _=Number(m(e.end_date,"YYYY-MM-DD").format("YYYY"));if("april-march"==n.companyFinancialYear)for(var g=s-1;g<=_;g++)b<="03"&&g===_||d>3&&g===s-1||c.push({year_key:g,year_value:g+"-"+(g+1).toString().substr(2,2)});if("jan-dec"==n.companyFinancialYear)for(g=s;g<=_;g++)c.push({year_key:g,year_value:g});var Y=[],v={definition:e.definition,target:e.target,co_owner_name:"",action_plan_id:"",co_owner_id:"",jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:"",yearData:t,status_name:"",comment:""},y=m(e.start_date,"YYYY-MM-DD").format("MMM").toLowerCase(),M=m(e.end_date,"YYYY-MM-DD").format("MMM").toLowerCase(),D=m().month(y).format("MM"),O=m().month(M).format("MM"),S=Number(m(e.end_date,"YYYY-MM-DD").format("MM"));console.log("endmonthtest",S);var j=e.reminder_date;if("Monthly"==e.control_point)"jan-dec"==n.companyFinancialYear&&n.MONTHS.map(function(e){var l=m().month(e).format("MM"),o=Number(l);console.log("testttt",o);var u=S+1;if(l==D&&s==t)v[e]={a:"0",b:!1};else if(o==u&&_==t)v[e]={a:"3",b:!1};else if(s==t&&_==t&&l>D&&o<u){var c=o+1;l<r&&c!==i&&(v[e]={a:"1",b:!0}),l<r&&c==i&&(v[e]={a:"1",b:a>j}),l>=r&&(v[e]={a:"1",b:!1})}else s==t&&_!=t&&l>D?v[e]=s<n.currentYear?{a:"1",b:!0}:{a:"1",b:!1}:_==t&&s!=t&&o<u?_<n.currentYear?v[e]={a:"1",b:!0}:_>=n.currentYear&&(v[e]={a:"1",b:!1}):(t==n.currentYear&&r>l&&t!=s&&t!=_?v[e]={a:"1",b:a>j}:t==n.currentYear&&t!=s&&t!=_&&(v[e]=l<r&&j<a?{a:"1",b:!0}:{a:"1",b:!1}),t<n.currentYear&&t!==s&&t!==_&&t>s&&(v[e]={a:"1",b:!0}),t>n.currentYear&&t!==_&&t!==s&&(v[e]={a:"1",b:!1}))}),"april-march"==n.companyFinancialYear&&n.MONTHS.map(function(e){var l=m().month(e).format("MM"),i=Number(l);if(console.log("monthChacktest",i),t<=s&&(l<="03"&&l==D&&s-1==t&&(v[e]={a:"0",b:!1}),l>"03"&&l==D&&s==t&&(v[e]={a:"0",b:!1})),t<=_){if(l<="03"){var o=_-1;n.ttttt=S+1,console.log("yearplus",n.ttttt),i==n.ttttt&&o==t&&(v[e]={a:"3",b:!1})}l>"03"&&i==n.ttttt&&_==t&&(v[e]={a:"3",b:!1})}if(t==_&&t==s&&(l<="03"&&(o=_-1,i==n.ttttt&&o==t&&(v[e]={a:"3",b:!1})),l>"03"&&i==n.ttttt&&_==t&&(v[e]={a:"3",b:!1})),s==t&&_==t&&l>D&&i<n.ttttt&&l>="04"&&(t<n.currentYear&&(v[e]={a:"1",b:!0}),t>n.currentYear&&(v[e]={a:"1",b:!1}),t==n.currentYear)){var c=l+1;r>l&&c==r&&(v[e]={a:"1",b:a>j}),r>l&&c!==r&&(v[e]={a:"1",b:!0}),r<l&&(v[e]={a:"1",b:!1})}if(t<=s?l<="03"?s-1==t&&_!=t&&l>D&&(v[e]=s<n.currentYear?{a:"1",b:!0}:s==n.currentYear&&l<r?{a:"1",b:!0}:{a:"1",b:!1}):l>"03"&&s==t&&_!=t&&l>D&&(v[e]=s<n.currentYear?{a:"1",b:!0}:{a:"1",b:!1}):l<="03"?_-1==t&&s!=t&&i<n.ttttt&&(_<n.currentYear&&(v[e]={a:"1",b:!0}),_>=n.currentYear&&(v[e]={a:"1",b:!1})):l>"03"&&_==t&&s!=t&&i<n.ttttt&&(_<n.currentYear?v[e]={a:"1",b:!0}:_>=n.currentYear&&(v[e]={a:"1",b:!1})),t>=s&&t<=_&&l<="03"){var d=t+1,p=d-1;t<d&&d<n.currentYear&&d>=s?v[e]={a:"1",b:!0}:t<d&&d>n.currentYear&&d>=s&&d<_?v[e]={a:"1",b:!1}:t==p&&d==n.currentYear&&d>=s&&d<=_&&(l<r&&(v[e]=j<u?{a:"1",b:!0}:{a:"1",b:!1}),l>=r&&(v[e]={a:"1",b:!1}))}t!==s&&t!==_&&l>"03"&&t>=n.currentYear&&t>s&&(v[e]={a:"1",b:!1})});else if("Quarterly"==e.control_point){for(var w=[],C=e.start_date,T=4;T>0;T--){n.nextDate=m(C).add(3,"months").calendar(),C=n.nextDate,n.nextd=m(n.nextDate).format("MM");var k=m(n.nextDate,"MM/DD/YYYY").format("MMM").toLowerCase();w.push(k),console.log("qtl",k)}"jan-dec"==n.companyFinancialYear&&n.MONTHS.map(function(e){var l=m().month(e).format("MM");s==t&&_!=t?(v[y]={a:"0",b:!1},D<=l&&-1!==w.indexOf(e)&&e!==y&&t<n.currentYear&&(v[e]={a:"1",b:!0})):_==t&&s!=t?O>=l&&(e==M?v[e]={a:"3",b:!1}:e!=y&&-1===w.indexOf(e)||(v[e]=t<n.currentYear?{a:"1",b:!0}:{a:"1",b:!1})):t<n.currentYear&&_!==t?e!=y&&-1===w.indexOf(e)||(v[e]={a:"1",b:!0}):t>n.currentYear&&_!==t?e!=y&&-1===w.indexOf(e)||(v[e]={a:"1",b:!1}):s==t&&_==t?D<=l&&l<=O&&(e===M?v[e]={a:"3",b:!1}:e===y?v[e]={a:"0",b:!1}:e!==y&&-1!==w.indexOf(e)?v[e]=r>l?{a:"1",b:a>j}:{a:"1",b:!1}:e!=y&&-1===w.indexOf(e)||(v[e]=r>l?{a:"1",b:a>j}:{a:"1",b:!1})):e!=y&&-1===w.indexOf(e)||(t==n.currentYear&&r>l?v[e]={a:"1",b:a>j}:(t==n.currentYear&&(v[e]=l<n.nextDate&&j<a?{a:"1",b:!0}:{a:"1",b:!1}),v[e]={a:"1",b:!1}))}),"april-march"==n.companyFinancialYear&&n.MONTHS.map(function(e){var l=m().month(e).format("MM");if(t<=s&&(D>="04"&&s==t&&_!=t&&(v[y]={a:"0",b:!1}),l<="03"&&s-1==t&&_!=t&&(v[y]={a:"0",b:!1})),s==t&&_!=t)D<=l&&-1!==w.indexOf(e)&&e!==y&&t<n.currentYear&&(v[e]={a:"1",b:!0});else if(t<=_||t==s){if(O<="03"){var i=_-1;i==t&&s!=t&&O>=l&&e==M&&(v[e]={a:"3",b:!1})}O>="04"&&_==t&&s!=t&&O>=l&&e==M&&(v[e]={a:"3",b:!1})}if((t<=_||t==s)&&(O>="04"&&_==t&&s==t&&e==M&&(v[e]={a:"3",b:!1}),O<="03"&&_-1==t&&s==t&&e==M&&(v[e]={a:"3",b:!1})),t>n.currentYear&&_!==t&&t>=s&&t!==i&&(e!=y&&-1===w.indexOf(e)||(v[e]={a:"1",b:!1})),_!==t&&t>=s&&t==i&&("02"==O&&(e!=y&&-1===w.indexOf(e)||"mar"!==e&&"feb"!==e&&(v[e]={a:"1",b:!1})),"01"==O&&(e!=y&&-1===w.indexOf(e)||"mar"!==e&&"feb"!==e&&"jan"!==e&&(v[e]={a:"1",b:!1})),"03"==O&&(e!=y&&-1===w.indexOf(e)||"mar"!==e&&(v[e]={a:"1",b:!1}))),t<=n.currentYear&&_!==t&&t>=s){var o=_-1;if(t!==o&&(e==y||-1!==w.indexOf(e)))if("jan"==e){var u=t+1,c=u-1;if(u<n.currentYear&&c==t&&t>=s&&(v[e]={a:"1",b:!0}),t==n.currentYear&&u!==n.currentYear&&t>=s&&(v[e]={a:"1",b:!1}),u==n.currentYear&&c==t&&t>=s){var d=l+1;r>l&&d==r&&(v[e]={a:"1",b:a>j}),r>l&&d!==r&&(v[e]={a:"1",b:!0}),r<=l&&(v[e]={a:"1",b:!1})}}else v[e]={a:"1",b:!1};t==o&&O>="04"&&(e!=y&&-1===w.indexOf(e)||(v[e]={a:"1",b:!1}))}t>=n.currentYear&&_==t&&t>=s?e!=y&&-1===w.indexOf(e)||("jan"==e&&t<=n.currentYear&&_-1==t&&t>=s&&(v[e]={a:"1",b:!1}),"jan"!==e&&l<O&&(v[e]={a:"1",b:!1})):s==t&&_==t&&D<=l&&l<=O&&(e===M?v[e]={a:"3",b:!1}:e===y?v[e]={a:"0",b:!1}:e!==y&&-1!==w.indexOf(e)?v[e]=r>l?{a:"1",b:a>j}:{a:"1",b:!1}:e!=y&&-1===w.indexOf(e)||(v[e]=r>l?{a:"1",b:a>j}:{a:"1",b:!1}))})}else if("Half Yearly"==e.control_point){var I=m(e.start_date).add(6,"months").calendar(),N=m(I,"MM/DD/YYYY").format("MMM").toLowerCase();console.log("half yearlyy month",N),"jan-dec"==n.companyFinancialYear&&n.MONTHS.map(function(e){var l=m().month(e).format("MM");s==t&&_!=t?(v[y]={a:"0",b:!1},D<=l&&e==N&&(t<n.currentYear?v[e]={a:"1",b:!0}:t>=n.currentYear&&(v[e]={a:"1",b:!1}))):_==t&&s!=t?O>=l&&(e==M?v[e]={a:"3",b:!1}:e==y||e==N?t<n.currentYear?v[e]={a:"1",b:!0}:t>=n.currentYear&&(v[e]={a:"1",b:!1}):v[e]=""):t<n.currentYear&&s!==t?e!=y&&e!=N||(v[e]={a:"1",b:!0}):t>n.currentYear&&_!==t?e!=y&&e!=N||(v[e]={a:"1",b:!1}):s==t&&_==t?D<=l&&O>=l&&(e==y?v[e]={a:"0",b:!1}:e==M?v[e]={a:"3",b:!1}:e==N&&(v[e]=r>l?{a:"1",b:a>j}:{a:"1",b:!1})):t==n.currentYear&&(e!=y&&e!=N||(v[e]=l<r&&j<a?{a:"1",b:!0}:{a:"1",b:!1}))}),"april-march"==n.companyFinancialYear&&n.MONTHS.map(function(e){var l=m().month(e).format("MM");if(t!==_){if(D<="03"&&(s-1==t&&_!=t&&(v[y]={a:"0",b:!1}),D<=l&&(e==N||e==y))){var i=t+1;i>n.currentYear&&t>=s&&(v[e]={a:"1",b:!1}),i<n.currentYear&&t>=s?v[e]={a:"1",b:!0}:i==n.currentYear&&t>=s&&(r>l&&(v[e]={a:"1",b:a>j}),r<l&&(v[e]={a:"1",b:!1}))}D>="04"&&t==s&&_!=t&&(v[y]={a:"0",b:!1}),l>="04"&&(e!=N&&e!=y||(t<n.currentYear&&t>=s?v[e]={a:"1",b:!0}:t>=n.currentYear&&(v[e]={a:"1",b:!1})))}if(t<=_||t==s){if(O<="03"){var o=_-1;o==t&&s!=t&&O>=l&&e==M&&(v[e]={a:"3",b:!1}),o==t&&s==t&&O>=l&&e==M&&(v[e]={a:"3",b:!1})}O>="04"&&_==t&&s!=t&&O>=l&&e==M&&(v[e]={a:"3",b:!1})}_==t&&s!=t?O>=l&&(e!=y&&e!=N||l>="04"&&O>l&&(t<n.currentYear?v[e]={a:"1",b:!0}:t>=n.currentYear&&(v[e]={a:"1",b:!1}))):t<n.currentYear&&s!==t&&t>=s?e!=y&&e!=N||(v[e]={a:"1",b:!0}):t>n.currentYear&&_!==t?t+1!==_&&(e!=y&&e!=N||(v[e]={a:"1",b:!1})):s==t&&_==t?D<=l&&O>=l&&(e==y?v[e]={a:"0",b:!1}:e==M?v[e]={a:"3",b:!1}:e==N&&(v[e]=r>l?{a:"1",b:a>j}:{a:"1",b:!1})):t>=s&&t<_&&t+1!==_&&O>="04"&&t!==_-1&&(t==n.currentYear&&(e!=y&&e!=N||(v[e]=l<r&&j<a?{a:"1",b:!0}:{a:"1",b:!1})),e!=y&&e!=N||r>l&&(console.log("kkkkkk"),v[e]={a:"1",b:a>j}))})}else if("Yearly"==e.control_point){var F=m(e.start_date).add(11,"months").calendar(),R=m(F,"MM/DD/YYYY").format("MMM").toLowerCase();"jan-dec"==n.companyFinancialYear&&n.MONTHS.map(function(e){var l=m().month(e).format("MM");s==t&&_!=t?(v[y]={a:"0",b:!1},D<=l&&e==R&&(s<n.currentYear?r>l&&(v[e]={a:"1",b:!0}):v[e]={a:"1",b:a>j})):_==t&&s!=t?e==M&&(v[e]={a:"3",b:!1}):s==t&&_==t&&D<=l&&O>=l&&(e==M?v[e]={a:"3",b:!1}:e==y?v[e]={a:"0",b:!1}:e==R&&(v[e]=r>l?{a:"1",b:a>j}:{a:"1",b:!1})),e==y&&(t==n.currentYear?r>l&&j<a?v[e]={a:"1",b:!0}:r>l&&j>a?v[e]={a:"1",b:!1}:r<l&&(v[e]={a:"1",b:!1}):t<n.currentYear&&s!==t?v[e]={a:"1",b:!0}:t>n.currentYear&&s!==t&&t!==_&&(v[e]={a:"1",b:!1}))}),"april-march"==n.companyFinancialYear&&n.MONTHS.map(function(e){var l=m().month(e).format("MM");if(t!==_){if(D<="03"&&(s-1==t&&_!=t&&(v[y]={a:"0",b:!1}),D<=l&&e==y)){var i=t+1;i>n.currentYear&&t>=s&&(v[e]={a:"1",b:!1}),i<n.currentYear&&t>=s?v[e]={a:"1",b:!0}:i==n.currentYear&&t>=s&&(r>l&&(v[e]={a:"1",b:a>j}),r<l&&(v[e]={a:"1",b:!1}))}D>="04"&&t==s&&_!=t&&(v[y]={a:"0",b:!1}),l>="04"&&e==y&&(t<n.currentYear&&t>=s?v[e]={a:"1",b:!0}:t>=n.currentYear&&(v[e]={a:"1",b:!1}))}if(t<=_||t==s){if(O<="03"){var o=_-1;o==t&&s!=t&&O>=l&&e==M&&(v[e]={a:"3",b:!1}),o==t&&s==t&&O>=l&&e==M&&(v[e]={a:"3",b:!1})}O>="04"&&_==t&&s!=t&&O>=l&&e==M&&(v[e]={a:"3",b:!1}),O>="04"&&_==t&&s==t&&O>=l&&e==M&&(v[e]={a:"3",b:!1})}else _==t&&s!=t?D<=l&&(v[e]=e==M?{a:"3",b:!1}:""):s==t&&_==t?D<=l&&O>=l&&(e==M?v[e]={a:"3",b:!1}:e==y?v[e]={a:"0",b:!1}:e==R&&(v[e]=r>l?{a:"1",b:a>j}:{a:"1",b:!1})):e==y&&(t==n.currentYear?r>l&&j<a?v[e]={a:"1",b:!0}:r>l&&j>a?v[e]={a:"1",b:!1}:r<l&&(v[e]={a:"1",b:!1}):t<n.currentYear&&s!==t&&t>s?v[e]={a:"1",b:!0}:t>s&&t<_&&O>"04"&&(v[e]={a:"1",b:!1}))})}var x=e.action_plans_assign_user.slice();p.isArray(x)&&!p.isEmpty(x)&&x.map(function(e){var a=h({},v);a.co_owner_name=e.user_name,a.action_plan_id=e.action_plan_id,a.co_owner_id=e.co_owner_id;var l=e.schedules.slice();if(p.isArray(l)&&!p.isEmpty(l)){var r=p.sortBy(e.schedules,function(e){return new Date(e.month_date)});a.status_name=r.slice(-1)[0].status_name,n.MONTHS.map(function(e){parseInt(m().month(e).format("MM")),l.map(function(e){console.log("schedule schedule",e);var l=m(e.month_date,"YYYY-MM-DD").format("MMM").toLowerCase();console.log("scheduleMonth",l);var r=parseInt(m(e.month_date,"YYYY-MM-DD").format("MM"));console.log("fdfdf",r);var i=Number(m(e.month_date,"YYYY-MM-DD").format("MM"));console.log("fdfdf",i);var u=parseInt(m(e.month_date,"YYYY-MM-DD").format("YYYY"));console.log("monthChackYear",u);var c=parseInt(m(e.review_month_date,"YYYY-MM-DD").format("MM"));console.log("reviewMonth",c);var s=parseInt(m(e.review_month_date,"YYYY-MM-DD").format("YYYY"));m(e.review_month_date,"YYYY-MM-DD").format("DD"),s>u&&r!==o&&(a[l]={a:"2",b:!0}),s>u?a[l]={a:"2",b:!0}:s==u&&(i==o&&t==n.currentYear&&(a[l]={a:"2",b:!1}),i!==o&&t==n.currentYear&&(a[l]={a:"2",b:!0})),a.comment=e.comment})})}Y.push(a)}),Y.map(function(e,t){e.sr_no=t+1}),e.datasource=new l.o(Y),e.years=c})},e.prototype.initiativeDataPDF=function(){var e=this;this.loaderService.show(),this.allExpandState=!0,setTimeout(function(){var t=document.getElementById("initiative-data");d()(t).then(function(t){var n=208*t.height/t.width,a=n,l=t.toDataURL("image/png"),r=new c("p","mm","a4"),i=0;for(r.addImage(l,"PNG",0,i,208,n),a-=295;a>=0;)i=a-n,r.addPage(),r.addImage(l,"PNG",0,i,208,n),a-=295;r.save("masterActionPlan.pdf"),e.loaderService.hide(),e.allExpandState=!1})},50)},e}(),g=[{lesent_name:"Green",lesent_description:"Closed"},{lesent_name:"Yellow",lesent_description:"Open"},{lesent_name:"Red",lesent_description:"Delayed"},{lesent_name:"Gray",lesent_description:"Closed With Delay"},{lesent_name:"Blue",lesent_description:"On Hold"}],Y=function(){return function(){}}(),v=n("pMnS"),y=n("yWMr"),M=n("t68o"),D=n("zbXB"),O=n("NcP4"),S=n("xYTU"),j=n("y4qS"),w=n("Ip0R"),C=n("pIm3"),T=n("Fzqc"),k=n("dWZg"),I=n("o3x0"),N=n("la9Q"),F=n("8MOy"),R=n("BgWK"),x=a["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function P(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,l.h,[j.d,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,[" FName "]))],null,null)}function E(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,l.a,[j.d,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,[" "," "]))],null,function(e,t){e(t,2,0,t.context.$implicit.fname)})}function A(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,l.h,[j.d,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,[" LName "]))],null,null)}function G(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,l.a,[j.d,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,[" "," "]))],null,function(e,t){e(t,2,0,t.context.$implicit.lname)})}function L(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,l.h,[j.d,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,[" Parcels "]))],null,null)}function U(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",": ",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.definition,t.context.$implicit.itemName)})}function V(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,11,null,null,null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,10,"div",[["class","parcel"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,6,"ul",[],null,null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),a["\u0275ted"](4,null,["ID: ",""])),(e()(),a["\u0275eld"](5,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),a["\u0275ted"](6,null,["Name: ",""])),(e()(),a["\u0275eld"](7,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),a["\u0275ted"](8,null,["ID: ",""])),(e()(),a["\u0275eld"](9,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,U)),a["\u0275did"](11,278528,null,0,w.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,11,0,t.context.$implicit.parcelItems)},function(e,t){e(t,4,0,t.context.$implicit.parcelId),e(t,6,0,t.context.$implicit.parcelName),e(t,8,0,t.context.$implicit.description)})}function Q(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,l.a,[j.d,a.ElementRef],null,null),(e()(),a["\u0275eld"](2,0,null,null,2,"div",[["class","parcels"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,V)),a["\u0275did"](4,278528,null,0,w.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.context.$implicit.parcels)},null)}function q(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-row",[["class","mat-header-row"],["role","row"]],null,null,null,C.f,C.b)),a["\u0275prd"](6144,null,j.k,null,[l.j]),a["\u0275did"](2,49152,null,0,l.j,[],null,null)],null,null)}function B(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-row",[["class","mat-row"],["role","row"]],null,null,null,C.g,C.c)),a["\u0275prd"](6144,null,j.m,null,[l.l]),a["\u0275did"](2,49152,null,0,l.l,[],null,null)],null,null)}function H(e){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{paginator:0}),a["\u0275qud"](402653184,2,{sort:0}),(e()(),a["\u0275eld"](2,0,null,null,47,"mat-table",[["class","mat-elevation-z8 mat-table"]],null,null,null,C.h,C.d)),a["\u0275did"](3,2342912,null,4,l.n,[a.IterableDiffers,a.ChangeDetectorRef,a.ElementRef,[8,null],[2,T.b],w.DOCUMENT,k.a],{dataSource:[0,"dataSource"]},null),a["\u0275qud"](603979776,3,{_contentColumnDefs:1}),a["\u0275qud"](603979776,4,{_contentRowDefs:1}),a["\u0275qud"](603979776,5,{_contentHeaderRowDefs:1}),a["\u0275qud"](603979776,6,{_contentFooterRowDefs:1}),(e()(),a["\u0275eld"](8,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](9,16384,null,3,l.c,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,7,{cell:0}),a["\u0275qud"](335544320,8,{headerCell:0}),a["\u0275qud"](335544320,9,{footerCell:0}),a["\u0275prd"](2048,[[3,4]],j.d,null,[l.c]),(e()(),a["\u0275and"](0,null,null,2,null,P)),a["\u0275did"](15,16384,null,0,l.i,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[8,4]],j.j,null,[l.i]),(e()(),a["\u0275and"](0,null,null,2,null,E)),a["\u0275did"](18,16384,null,0,l.b,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[7,4]],j.b,null,[l.b]),(e()(),a["\u0275eld"](20,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](21,16384,null,3,l.c,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,10,{cell:0}),a["\u0275qud"](335544320,11,{headerCell:0}),a["\u0275qud"](335544320,12,{footerCell:0}),a["\u0275prd"](2048,[[3,4]],j.d,null,[l.c]),(e()(),a["\u0275and"](0,null,null,2,null,A)),a["\u0275did"](27,16384,null,0,l.i,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[11,4]],j.j,null,[l.i]),(e()(),a["\u0275and"](0,null,null,2,null,G)),a["\u0275did"](30,16384,null,0,l.b,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[10,4]],j.b,null,[l.b]),(e()(),a["\u0275eld"](32,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](33,16384,null,3,l.c,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,13,{cell:0}),a["\u0275qud"](335544320,14,{headerCell:0}),a["\u0275qud"](335544320,15,{footerCell:0}),a["\u0275prd"](2048,[[3,4]],j.d,null,[l.c]),(e()(),a["\u0275and"](0,null,null,2,null,L)),a["\u0275did"](39,16384,null,0,l.i,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[14,4]],j.j,null,[l.i]),(e()(),a["\u0275and"](0,null,null,2,null,Q)),a["\u0275did"](42,16384,null,0,l.b,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[13,4]],j.b,null,[l.b]),(e()(),a["\u0275and"](0,null,null,2,null,q)),a["\u0275did"](45,540672,null,0,l.k,[a.TemplateRef,a.IterableDiffers],{columns:[0,"columns"]},null),a["\u0275prd"](2048,[[5,4]],j.l,null,[l.k]),(e()(),a["\u0275and"](0,null,null,2,null,B)),a["\u0275did"](48,540672,null,0,l.m,[a.TemplateRef,a.IterableDiffers],{columns:[0,"columns"]},null),a["\u0275prd"](2048,[[4,4]],j.n,null,[l.m])],function(e,t){var n=t.component;e(t,3,0,n.dataSource),e(t,9,0,"fname"),e(t,21,0,"lname"),e(t,33,0,"parcels"),e(t,45,0,n.displayedColumns),e(t,48,0,n.displayedColumns)},null)}function Z(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"app-master-action-plan",[],null,null,null,H,x)),a["\u0275did"](1,245760,null,0,_,[r.a,I.e,N.a,F.a,R.b,u.a,f.a],null,null)],function(e,t){e(t,1,0)},null)}var $=a["\u0275ccf"]("app-master-action-plan",_,Z,{},{},[]),z=n("lLAP"),J=(n("YlbQ"),n("mrSG"),n("6blF"),n("K9Ia")),W=(n("26FU"),n("F/XL"),n("t9fZ"),n("ny24"),n("n6gG"),function(){return function(e){this.template=e}}()),K=function(){return function(){}}(),X=n("eDkP"),ee=n("4tE/"),te=n("M2Lx"),ne=n("Wf4p"),ae=n("wmQ5"),le=n("jQLj"),re=n("mVsa"),ie=n("uGex"),oe=n("v9Dh"),ue=n("ZYjt"),ce=n("4epT");n("p0ib"),n("ihYY");var se=function(){function e(){this.changes=new J.a,this.sortButtonLabel=function(e){return"Change sorting for "+e}}return e.ngInjectableDef=Object(a.defineInjectable)({factory:function(){return new e},token:e,providedIn:"root"}),e}();function de(e){return e||new se}var pe=function(){return function(){}}(),me=n("ZYCi"),fe=n("8mMr"),he=n("4CPF"),be=n("Lwpp");n("pugT");var _e=function(){return function(){}}(),ge=n("4c35"),Ye=n("qAlS"),ve=function(){return function(){}}(),ye=n("UodH"),Me=n("u7R8"),De=n("FVSy"),Oe=n("de3e"),Se=n("/dO6"),je=n("SMsm"),we=n("LC5p"),Ce=n("YhbO"),Te=n("jlZm"),ke=n("r43C"),Ie=n("/VYK"),Ne=n("seP3"),Fe=n("b716"),Re=n("0/Q6"),xe=n("Z+uX"),Pe=n("Blfk"),Ee=n("9It4"),Ae=n("Nsh5"),Ge=n("w+lc"),Le=n("kWGw"),Ue=n("vARd"),Ve=n("La40"),Qe=(n("67Y/"),function(){return function(){}}()),qe=n("YSh2");n.d(t,"MasterActionPlanModuleNgFactory",function(){return Be});var Be=a["\u0275cmf"](Y,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[v.a,y.a,M.a,D.b,D.a,O.a,S.a,S.b,$]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,w.NgLocalization,w.NgLocaleLocalization,[a.LOCALE_ID,[2,w["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](135680,z.h,z.h,[a.NgZone,k.a]),a["\u0275mpd"](4608,W,W,[a.TemplateRef]),a["\u0275mpd"](4608,X.c,X.c,[X.i,X.e,a.ComponentFactoryResolver,X.h,X.f,a.Injector,a.NgZone,w.DOCUMENT,T.b,[2,w.Location]]),a["\u0275mpd"](5120,X.j,X.k,[X.c]),a["\u0275mpd"](5120,ee.a,ee.b,[X.c]),a["\u0275mpd"](4608,te.c,te.c,[]),a["\u0275mpd"](4608,ne.d,ne.d,[]),a["\u0275mpd"](4608,ae.f,ae.f,[]),a["\u0275mpd"](5120,I.c,I.d,[X.c]),a["\u0275mpd"](135680,I.e,I.e,[X.c,a.Injector,[2,w.Location],[2,I.b],I.c,[3,I.e],X.e]),a["\u0275mpd"](4608,le.i,le.i,[]),a["\u0275mpd"](5120,le.a,le.b,[X.c]),a["\u0275mpd"](5120,re.b,re.g,[X.c]),a["\u0275mpd"](4608,ne.c,ne.A,[[2,ne.h],k.a]),a["\u0275mpd"](5120,ie.a,ie.b,[X.c]),a["\u0275mpd"](5120,oe.b,oe.c,[X.c]),a["\u0275mpd"](4608,ue.HAMMER_GESTURE_CONFIG,ne.e,[[2,ne.i],[2,ne.n]]),a["\u0275mpd"](5120,ce.c,ce.a,[[3,ce.c]]),a["\u0275mpd"](5120,se,de,[[3,se]]),a["\u0275mpd"](1073742336,w.CommonModule,w.CommonModule,[]),a["\u0275mpd"](1073742336,me.s,me.s,[[2,me.z],[2,me.o]]),a["\u0275mpd"](1073742336,T.a,T.a,[]),a["\u0275mpd"](1073742336,ne.n,ne.n,[[2,ne.f],[2,ue.HAMMER_LOADER]]),a["\u0275mpd"](1073742336,fe.b,fe.b,[]),a["\u0275mpd"](1073742336,he.a,he.a,[]),a["\u0275mpd"](1073742336,be.d,be.d,[]),a["\u0275mpd"](1073742336,j.p,j.p,[]),a["\u0275mpd"](1073742336,K,K,[]),a["\u0275mpd"](1073742336,_e,_e,[]),a["\u0275mpd"](1073742336,k.b,k.b,[]),a["\u0275mpd"](1073742336,ne.z,ne.z,[]),a["\u0275mpd"](1073742336,ne.x,ne.x,[]),a["\u0275mpd"](1073742336,ne.u,ne.u,[]),a["\u0275mpd"](1073742336,ge.g,ge.g,[]),a["\u0275mpd"](1073742336,Ye.c,Ye.c,[]),a["\u0275mpd"](1073742336,X.g,X.g,[]),a["\u0275mpd"](1073742336,ee.c,ee.c,[]),a["\u0275mpd"](1073742336,te.d,te.d,[]),a["\u0275mpd"](1073742336,z.a,z.a,[]),a["\u0275mpd"](1073742336,ve,ve,[]),a["\u0275mpd"](1073742336,R.e,R.e,[]),a["\u0275mpd"](1073742336,ye.c,ye.c,[]),a["\u0275mpd"](1073742336,Me.e,Me.e,[]),a["\u0275mpd"](1073742336,De.c,De.c,[]),a["\u0275mpd"](1073742336,Oe.c,Oe.c,[]),a["\u0275mpd"](1073742336,Se.b,Se.b,[]),a["\u0275mpd"](1073742336,je.c,je.c,[]),a["\u0275mpd"](1073742336,ae.g,ae.g,[]),a["\u0275mpd"](1073742336,I.k,I.k,[]),a["\u0275mpd"](1073742336,le.j,le.j,[]),a["\u0275mpd"](1073742336,we.b,we.b,[]),a["\u0275mpd"](1073742336,Ce.c,Ce.c,[]),a["\u0275mpd"](1073742336,Te.c,Te.c,[]),a["\u0275mpd"](1073742336,ne.p,ne.p,[]),a["\u0275mpd"](1073742336,ke.b,ke.b,[]),a["\u0275mpd"](1073742336,Ie.c,Ie.c,[]),a["\u0275mpd"](1073742336,Ne.e,Ne.e,[]),a["\u0275mpd"](1073742336,Fe.c,Fe.c,[]),a["\u0275mpd"](1073742336,Re.d,Re.d,[]),a["\u0275mpd"](1073742336,re.e,re.e,[]),a["\u0275mpd"](1073742336,ne.B,ne.B,[]),a["\u0275mpd"](1073742336,ne.r,ne.r,[]),a["\u0275mpd"](1073742336,ie.d,ie.d,[]),a["\u0275mpd"](1073742336,oe.e,oe.e,[]),a["\u0275mpd"](1073742336,ce.d,ce.d,[]),a["\u0275mpd"](1073742336,xe.c,xe.c,[]),a["\u0275mpd"](1073742336,Pe.c,Pe.c,[]),a["\u0275mpd"](1073742336,Ee.c,Ee.c,[]),a["\u0275mpd"](1073742336,Ae.h,Ae.h,[]),a["\u0275mpd"](1073742336,Ge.a,Ge.a,[]),a["\u0275mpd"](1073742336,Le.c,Le.c,[]),a["\u0275mpd"](1073742336,Ue.e,Ue.e,[]),a["\u0275mpd"](1073742336,pe,pe,[]),a["\u0275mpd"](1073742336,l.p,l.p,[]),a["\u0275mpd"](1073742336,Ve.i,Ve.i,[]),a["\u0275mpd"](1073742336,Qe,Qe,[]),a["\u0275mpd"](1073742336,Y,Y,[]),a["\u0275mpd"](256,Se.a,{separatorKeyCodes:[qe.f]},[]),a["\u0275mpd"](256,ne.g,ne.k,[]),a["\u0275mpd"](1024,me.m,function(){return[[{path:"**",component:_,resolve:{}}]]},[])])})},u7R8:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return h});var a=n("mrSG"),l=n("n6gG"),r=n("YlbQ"),i=n("CcnG"),o=(n("gIcY"),n("Wf4p")),u=new i.InjectionToken("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),c=function(){return function(){}}(),s=0,d=function(){return function(e,t){this.source=e,this.value=t}}(),p=function(){function e(e,t){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=function(){},this._onTouched=function(){},this._name="mat-button-toggle-group-"+s++,this.valueChange=new i.EventEmitter,this.change=new i.EventEmitter,this.appearance=t&&t.appearance?t.appearance:"standard"}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){var t=this;this._name=e,this._buttonToggles&&this._buttonToggles.forEach(function(e){return e.name=t._name})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this._vertical},set:function(e){this._vertical=Object(l.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(function(e){return e.value}):e[0]?e[0].value:void 0},set:function(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){var e=this._selectionModel.selected;return this.multiple?e:e[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=Object(l.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=Object(l.c)(e),this._buttonToggles&&this._buttonToggles.forEach(function(e){return e._markForCheck()})},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._selectionModel=new r.c(this.multiple,void 0,!1)},e.prototype.ngAfterContentInit=function(){var e;(e=this._selectionModel).select.apply(e,this._buttonToggles.filter(function(e){return e.checked}))},e.prototype.writeValue=function(e){this.value=e,this._changeDetector.markForCheck()},e.prototype.registerOnChange=function(e){this._controlValueAccessorChangeFn=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype._emitChangeEvent=function(){var e=this.selected,t=Array.isArray(e)?e[e.length-1]:e,n=new d(t,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)},e.prototype._syncButtonToggle=function(e,t,n){void 0===n&&(n=!1),this.multiple||!this.selected||e.checked||(this.selected.checked=!1),t?this._selectionModel.select(e):this._selectionModel.deselect(e),n&&this._emitChangeEvent(),this.valueChange.emit(this.value)},e.prototype._isSelected=function(e){return this._selectionModel.isSelected(e)},e.prototype._isPrechecked=function(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(function(t){return null!=e.value&&t===e.value}):e.value===this._rawValue)},e.prototype._setSelectionByValue=function(e){var t=this;if(this._rawValue=e,this._buttonToggles)if(this.multiple&&e){if(!Array.isArray(e))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),e.forEach(function(e){return t._selectValue(e)})}else this._clearSelection(),this._selectValue(e)},e.prototype._clearSelection=function(){this._selectionModel.clear(),this._buttonToggles.forEach(function(e){return e.checked=!1})},e.prototype._selectValue=function(e){var t=this._buttonToggles.find(function(t){return null!=t.value&&t.value===e});t&&(t.checked=!0,this._selectionModel.select(t))},e}(),m=function(){return function(){}}(),f=function(e){function t(t,n,a,l,r,o){var u=e.call(this)||this;u._changeDetectorRef=n,u._elementRef=a,u._focusMonitor=l,u._isSingleSelector=!1,u._checked=!1,u.ariaLabelledby=null,u._disabled=!1,u.change=new i.EventEmitter;var c=Number(r);return u.tabIndex=c||0===c?c:null,u.buttonToggleGroup=t,u.appearance=o&&o.appearance?o.appearance:"standard",u}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"buttonId",{get:function(){return this.id+"-button"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appearance",{get:function(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance},set:function(e){this._appearance=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked},set:function(e){var t=Object(l.c)(e);t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled},set:function(e){this._disabled=Object(l.c)(e)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isSingleSelector=this.buttonToggleGroup&&!this.buttonToggleGroup.multiple,this._type=this._isSingleSelector?"radio":"checkbox",this.id=this.id||"mat-button-toggle-"+s++,this._isSingleSelector&&(this.name=this.buttonToggleGroup.name),this.buttonToggleGroup&&this.buttonToggleGroup._isPrechecked(this)&&(this.checked=!0),this._focusMonitor.monitor(this._elementRef,!0)},t.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},t.prototype.focus=function(){this._buttonElement.nativeElement.focus()},t.prototype._onButtonClick=function(){var e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new d(this,this.value))},t.prototype._markForCheck=function(){this._changeDetectorRef.markForCheck()},t}(Object(o.G)(m)),h=function(){return function(){}}()}}]);