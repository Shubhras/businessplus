<div class="content popup-content">
    <div fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
        <form fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto" name="AddtaskForm"
            [formGroup]="editIssueFormGroup" (ngSubmit)="EditIssueTaskSubmit()" novalidate>
            <!-- <div class="h3 mb-12">Add Task</div> -->
            <div class="popup-header">
                <mat-toolbar matDialogTitle class="m-0">
                    <mat-toolbar-row>
                        <span class="title dialog-title">Edit Task</span>
                    </mat-toolbar-row>
                </mat-toolbar>
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="100" class="pr-4">
                    <mat-label>Issue Name</mat-label>
                    <textarea matInput formControlName="issue_task_name" required></textarea>
                    <mat-error>Issue Name is required!</mat-error>
                </mat-form-field>
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                    <mat-label>Priority</mat-label>
                    <mat-select matNativeControl formControlName="issue_task_priority">
                        <mat-option [value]="priority.id" *ngFor="let priority of taskDataPriorities">
                            {{priority.name}}</mat-option>
                    </mat-select>
                    <mat-error>Priority is required!</mat-error>
                </mat-form-field>
                <!-- <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                  <mat-label>Project</mat-label>
                  <mat-select matNativeControl formControlName="project_id">
                      <mat-option [value]="project.project_id" *ngFor="let project of viewProjectData">
                          {{project.project_name}}</mat-option>
                      <mat-option value="personal">Personal</mat-option>
                      <mat-option value="no_project">No project</mat-option>
                      <mat-option value="others">Others</mat-option>
                  </mat-select>
                  <mat-error>Project is required!</mat-error>
              </mat-form-field> -->
                <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                    <mat-label>Department</mat-label>
                    <mat-select matNativeControl formControlName="issue_task_dept">
                        <mat-option [value]="department.id" *ngFor="let department of dataDepartment">
                            {{department.dept_name}}</mat-option>
                        <mat-option value="applicable">Not applicable</mat-option>
                    </mat-select>
                    <mat-error>Department is required!</mat-error>
                </mat-form-field>
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                    <mat-label>Issue Log Date</mat-label>
                    <input matInput [matDatepicker]="startPicker" formControlName="issue_start_date"
                        [(ngModel)]="issue_start_date" readonly>
                    <mat-error>Issue Log Date is required!</mat-error>
                    <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                    <mat-datepicker #startPicker></mat-datepicker>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                    <mat-label>Target Date </mat-label>
                    <input matInput [matDatepicker]="endPicker" formControlName="issue_end_date" [min]="datepipe.transform(editIssueFormGroup.get('issue_start_date').value, 'yyyy-MM-dd')"
                        [(ngModel)]="issue_end_date" readonly>
                    <mat-error>Target Date is required!</mat-error>
                    <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                    <mat-datepicker #endPicker></mat-datepicker>
                </mat-form-field>
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                    <mat-label>Responsibility</mat-label>
                    <mat-select matNativeControl formControlName="issue_task_owner">
                       <!--  <input matInput placeholder="Search" (keyup)="companyUserSearch($event.target.value)"
                            style="height: 32px; padding-left: 12px;"> -->
                        <mat-option [value]="user.user_id" *ngFor="let user of selectedSearchUser">{{user.name}}
                        </mat-option>
                    </mat-select>
                    <mat-error>Responsibility is required!</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="100" class="pr-4">
                    <mat-label>Reason For Change </mat-label>
                    <textarea matInput formControlName="issue_task_reason" required></textarea>
                    <mat-error>Reason For change is required!</mat-error>
                </mat-form-field>
                <!--   <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                  <mat-label>Task Co-owner</mat-label>
                  <mat-select formControlName="issue_task_co_owner" multiple>
                      <mat-option *ngFor="let user of userListAllData" [value]="user.user_id">{{user.name}}
                      </mat-option>
                  </mat-select>
                  <mat-error>Task Co-owner is required!</mat-error>
              </mat-form-field> -->
            </div>
            <!--   <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
              <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                  <mat-label>Reminder Frequency</mat-label>
                  <mat-select [(value)]="issue_remindr_freq" matNativeControl formControlName="issue_remindr_freq">
                      <mat-option value="Daily">Daily</mat-option>
                      <mat-option value="Weekly">Weekly</mat-option>
                      <mat-option value="Monthly">Monthly</mat-option>
                  </mat-select>
                  <mat-error>Reminder Frequency is required!</mat-error>
              </mat-form-field>
          </div> -->
            <div fxLayout="row" fxFlex="1 0 auto" class="example-button-row" fxLayoutAlign="end">
                <button mat-raised-button color="accent" class="mr-12 submit-button">Submit</button>
                <a mat-raised-button color="accent" (click)="PopupClose()">Cancel</a>
            </div>
        </form>
    </div>
</div>