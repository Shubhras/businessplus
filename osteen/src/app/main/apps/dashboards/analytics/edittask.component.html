<div class="content popup-content">
    <div fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row" style="height: 500px;">
        <form fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto" name="edittaskForm" [formGroup]="edittaskForm"
            (ngSubmit)="EditTask()" novalidate>
            <!-- <div class="h3 mb-12">Edit Task</div> -->
            <div class="popup-header">
                <mat-toolbar matDialogTitle class="m-0">
                    <mat-toolbar-row>
                        <span class="title dialog-title">Edit Task</span>
                    </mat-toolbar-row>
                </mat-toolbar>
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="100" class="pr-4 dialog-field">
                    <mat-label>Task Name</mat-label>
                    <textarea matInput formControlName="task_name" required></textarea>
                    <mat-error>Task Name is required!</mat-error>
                </mat-form-field>
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pr-4 hght-dial-fields">
                    <mat-label>Priority</mat-label>
                    <mat-select matNativeControl formControlName="priority_id" class="department-stratgeix">
                        <mat-option [value]="priority.id" *ngFor="let priority of DataPriorities">{{priority.name}}
                        </mat-option>
                    </mat-select>
                    <mat-error>Priority is required!</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="50" class="pl-4 remove-left add-right hght-dial-fields">
                    <mat-label>Events</mat-label>
                    <mat-select matNativeControl formControlName="event_id" class="department-stratgeix">
                        <mat-option [value]="event.id" *ngFor="let event of viewEventsData">
                            {{event.event_name}}</mat-option>
                        <mat-option value="personal">Personal</mat-option>
                        <mat-option value="no_event">No event</mat-option>
                        <mat-option value="others">Others</mat-option>
                    </mat-select>
                    <mat-error>Event is required!</mat-error>
                </mat-form-field>
                <!-- <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                    <mat-label>Project</mat-label>
                    <mat-select matNativeControl formControlName="project_id">
                        <mat-option [value]="project.project_id" *ngFor="let project of viewProjectData">
                            {{project.project_name}}
                        </mat-option>
                        <mat-option value="personal">Personal</mat-option>
                        <mat-option value="no_project">No project</mat-option>
                        <mat-option value="others">Others</mat-option>
                    </mat-select>
                    <mat-error>Project is required!</mat-error>
                </mat-form-field> -->
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pr-4 hght-dial-fields">
                    <mat-label>Department</mat-label>
                    <mat-select matNativeControl formControlName="department_id" class="department-stratgeix">
                        <mat-option [value]="department.id" *ngFor="let department of dataDepartment">
                            {{department.dept_name}}
                        </mat-option>
                        <mat-option value="applicable">Not applicable</mat-option>
                    </mat-select>
                    <mat-error>Department is required!</mat-error>
                </mat-form-field>
                <!-- <mat-form-field appearance="outline" fxFlex="50">
                    <mat-label>Department</mat-label>
                    <mat-select matNativeControl formControlName="department_id">
                        <mat-option [value]="department.id" *ngFor="let department of dataDepartment">
                            {{department.dept_name}}
                        </mat-option>
                    </mat-select>
                    <mat-error>Department is required!</mat-error>
                </mat-form-field> -->

                <mat-form-field appearance="outline" fxFlex="50" class="pl-4 remove-left add-right edit-dials-ad add-dials-ad">
                    <mat-label>Start</mat-label>
                    <!-- [min]="minDate" -->
                    <input matInput [matDatepicker]="picker" formControlName="start_date" [(ngModel)]="start_date"
                        required readonly>
                    <mat-error>Start Date is required!</mat-error>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pr-4 edit-dials-ad add-dials-ad">
                    <mat-label>Finish</mat-label>
                    <input matInput [min]="datepipe.transform(edittaskForm.get('start_date').value, 'yyyy-MM-dd')"
                        [matDatepicker]="picker1" formControlName="end_date" [(ngModel)]="end_date" required readonly>
                    <mat-error>Finish Date is required!</mat-error>
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="50" class="pl-4 remove-left add-right hght-dial-fields">
                    <mat-label>Status</mat-label>
                    <mat-select matNativeControl formControlName="status_id" class="department-stratgeix">
                        <mat-option [value]="statuss.id" *ngFor="let statuss of DataStatus">{{statuss.status_name}}
                        </mat-option>
                    </mat-select>
                    <mat-error>Status is required!</mat-error>
                </mat-form-field>
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pr-4 hght-dial-fields">
                    <mat-label>Task Owner</mat-label>
                    <mat-select matNativeControl formControlName="task_owner_id" class="department-stratgeix">
                        <mat-option [value]="user.user_id" *ngFor="let user of userListAllData">{{user.name}}
                        </mat-option>
                    </mat-select>
                    <mat-error>Task Owner is required!</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="50" class="pl-4 remove-left add-right hght-dial-fields">
                    <mat-label>Task Co-owner</mat-label>
                    <!-- [compareWith]="compareFn" -->
                    <mat-select formControlName="assign_to" multiple class="department-stratgeix">
                        <mat-option *ngFor="let user of userListAllData" [value]="user.user_id">{{user.name}}
                        </mat-option>
                    </mat-select>
                    <!-- <mat-error>Task Co-owner is required!</mat-error> -->
                </mat-form-field>
            </div>
            <div [fxLayout]="direction" fxLayout.xs="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pr-4 hght-dial-fields">
                    <mat-label>Reminder Frequency</mat-label>
                    <mat-select matNativeControl formControlName="reminder_frequency" class="department-stratgeix">
                        <mat-option value="Daily">Daily</mat-option>
                        <mat-option value="Weekly">Weekly</mat-option>
                        <mat-option value="Monthly">Monthly</mat-option>
                    </mat-select>
                    <mat-error>Reminder Frequency is required!</mat-error>
                </mat-form-field>
            </div>
            <div fxLayout="row" class="example-button-row" fxLayoutAlign="end">
                <button mat-raised-button color="accent" class="mr-12 submit-button">Submit</button>
                <a mat-raised-button color="accent" (click)="PopupClose()">Cancel</a>
            </div>
        </form>
    </div>
</div>